Running snakemake...
Assuming unrestricted shared filesystem usage.
Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 16
Rules claiming more threads will be scaled down.
Job stats:
job                           count
--------------------------  -------
all                               1
ancestral_tree_sequences          2
export_tree                       4
refine_tree_sequences             2
root_and_remove_outgroup          2
strip_codon_alignment_gaps        1
traits_tree_sequences             2
translate_tree_sequences          2
tree_sequences                    2
total                            18

Select jobs to execute...
Execute 1 jobs...

[Thu Sep 12 11:36:51 2024]
localrule tree_sequences:
    input: Results/HSV1_gL/Alignments/codon_ungapped.fasta
    output: Results/HSV1_gL/Trees/tree_raw.nwk
    log: Results/Logs/HSV1_gL/tree_sequences.txt
    jobid: 65
    reason: Missing output files: Results/HSV1_gL/Trees/tree_raw.nwk; Updated input files: Results/HSV1_gL/Alignments/codon_ungapped.fasta
    wildcards: gene=HSV1_gL
    resources: tmpdir=/loc/scratch/61982582

Activating conda environment: .snakemake/conda/768efdd1ddbfaa7755324fb50ebd3862_
[Thu Sep 12 11:36:56 2024]
Finished job 65.
1 of 18 steps (6%) done
Select jobs to execute...
Execute 1 jobs...

[Thu Sep 12 11:36:56 2024]
localrule root_and_remove_outgroup:
    input: Results/HSV1_gL/Trees/tree_raw.nwk, Results/HSV1_gL/Alignments/protein_ungapped.fasta, Results/HSV1_gL/Alignments/codon_ungapped.fasta
    output: Results/HSV1_gL/Trees/tree_no_outgroup.nwk, Results/HSV1_gL/Alignments/protein_ungapped_no_outgroup.fasta, Results/HSV1_gL/Alignments/codon_ungapped_no_outgroup.fasta
    log: Results/Logs/HSV1_gL/root_and_remove_outgroup.txt
    jobid: 64
    reason: Missing output files: Results/HSV1_gL/Alignments/codon_ungapped_no_outgroup.fasta, Results/HSV1_gL/Trees/tree_no_outgroup.nwk; Input files updated by another job: Results/HSV1_gL/Trees/tree_raw.nwk
    wildcards: gene=HSV1_gL
    resources: tmpdir=/loc/scratch/61982582

Activating conda environment: .snakemake/conda/768efdd1ddbfaa7755324fb50ebd3862_
Activating conda environment: .snakemake/conda/768efdd1ddbfaa7755324fb50ebd3862_
[Thu Sep 12 11:36:58 2024]
Finished job 64.
2 of 18 steps (11%) done
Select jobs to execute...
Execute 1 jobs...

[Thu Sep 12 11:36:58 2024]
localrule export_tree:
    input: Results/HSV1_gD/Trees/tree.nwk, Results/HSV1_gD/metadata.tsv, Results/HSV1_gD/Trees/tree_branch_lengths.json, Results/HSV1_gD/Trees/tree_traits.json, Results/HSV1_gD/Trees/tree_muts.json, Results/HSV1_gD/Trees/tree_aa_muts.json, Configure/Input_Data/auspice_config.json, Results/HSV1_gD/Trees/colors.tsv, Configure/Input_Data/lat_longs.tsv
    output: auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json
    jobid: 32
    reason: Missing output files: auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json
    wildcards: gene=HSV1_gD
    resources: tmpdir=/loc/scratch/61982582

Activating conda environment: .snakemake/conda/768efdd1ddbfaa7755324fb50ebd3862_
/bin/bash: -c: line 0: syntax error near unexpected token `('
/bin/bash: -c: line 0: `source /home/ccarr/miniconda3/bin/activate '/fh/fast/bloom_j/computational_notebooks/ccarr/2024/Herpesvirus-Glycoprotein-Analysis/HSV1/.snakemake/conda/768efdd1ddbfaa7755324fb50ebd3862_'; set -euo pipefail;  augur export v2 --tree Results/HSV1_gD/Trees/tree.nwk --title Natural diversity of Herpes simplex virus (HSV-1) glycoprotein D --metadata Results/HSV1_gD/metadata.tsv --node-data Results/HSV1_gD/Trees/tree_branch_lengths.json Results/HSV1_gD/Trees/tree_traits.json Results/HSV1_gD/Trees/tree_muts.json Results/HSV1_gD/Trees/tree_aa_muts.json --include-root-sequence-inline --colors Results/HSV1_gD/Trees/colors.tsv --lat-longs Configure/Input_Data/lat_longs.tsv --auspice-config Configure/Input_Data/auspice_config.json --output auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json'
[Thu Sep 12 11:36:58 2024]
Error in rule export_tree:
    jobid: 32
    input: Results/HSV1_gD/Trees/tree.nwk, Results/HSV1_gD/metadata.tsv, Results/HSV1_gD/Trees/tree_branch_lengths.json, Results/HSV1_gD/Trees/tree_traits.json, Results/HSV1_gD/Trees/tree_muts.json, Results/HSV1_gD/Trees/tree_aa_muts.json, Configure/Input_Data/auspice_config.json, Results/HSV1_gD/Trees/colors.tsv, Configure/Input_Data/lat_longs.tsv
    output: auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json
    conda-env: /fh/fast/bloom_j/computational_notebooks/ccarr/2024/Herpesvirus-Glycoprotein-Analysis/HSV1/.snakemake/conda/768efdd1ddbfaa7755324fb50ebd3862_
    shell:
        augur export v2 --tree Results/HSV1_gD/Trees/tree.nwk --title Natural diversity of Herpes simplex virus (HSV-1) glycoprotein D --metadata Results/HSV1_gD/metadata.tsv --node-data Results/HSV1_gD/Trees/tree_branch_lengths.json Results/HSV1_gD/Trees/tree_traits.json Results/HSV1_gD/Trees/tree_muts.json Results/HSV1_gD/Trees/tree_aa_muts.json --include-root-sequence-inline --colors Results/HSV1_gD/Trees/colors.tsv --lat-longs Configure/Input_Data/lat_longs.tsv --auspice-config Configure/Input_Data/auspice_config.json --output auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Trying to restart job 32.
Select jobs to execute...
Execute 1 jobs...

[Thu Sep 12 11:36:58 2024]
localrule export_tree:
    input: Results/HSV1_gD/Trees/tree.nwk, Results/HSV1_gD/metadata.tsv, Results/HSV1_gD/Trees/tree_branch_lengths.json, Results/HSV1_gD/Trees/tree_traits.json, Results/HSV1_gD/Trees/tree_muts.json, Results/HSV1_gD/Trees/tree_aa_muts.json, Configure/Input_Data/auspice_config.json, Results/HSV1_gD/Trees/colors.tsv, Configure/Input_Data/lat_longs.tsv
    output: auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json
    jobid: 32
    reason: Missing output files: auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json
    wildcards: gene=HSV1_gD
    resources: tmpdir=/loc/scratch/61982582

Activating conda environment: .snakemake/conda/768efdd1ddbfaa7755324fb50ebd3862_
/bin/bash: -c: line 0: syntax error near unexpected token `('
/bin/bash: -c: line 0: `source /home/ccarr/miniconda3/bin/activate '/fh/fast/bloom_j/computational_notebooks/ccarr/2024/Herpesvirus-Glycoprotein-Analysis/HSV1/.snakemake/conda/768efdd1ddbfaa7755324fb50ebd3862_'; set -euo pipefail;  augur export v2 --tree Results/HSV1_gD/Trees/tree.nwk --title Natural diversity of Herpes simplex virus (HSV-1) glycoprotein D --metadata Results/HSV1_gD/metadata.tsv --node-data Results/HSV1_gD/Trees/tree_branch_lengths.json Results/HSV1_gD/Trees/tree_traits.json Results/HSV1_gD/Trees/tree_muts.json Results/HSV1_gD/Trees/tree_aa_muts.json --include-root-sequence-inline --colors Results/HSV1_gD/Trees/colors.tsv --lat-longs Configure/Input_Data/lat_longs.tsv --auspice-config Configure/Input_Data/auspice_config.json --output auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json'
[Thu Sep 12 11:36:58 2024]
Error in rule export_tree:
    jobid: 32
    input: Results/HSV1_gD/Trees/tree.nwk, Results/HSV1_gD/metadata.tsv, Results/HSV1_gD/Trees/tree_branch_lengths.json, Results/HSV1_gD/Trees/tree_traits.json, Results/HSV1_gD/Trees/tree_muts.json, Results/HSV1_gD/Trees/tree_aa_muts.json, Configure/Input_Data/auspice_config.json, Results/HSV1_gD/Trees/colors.tsv, Configure/Input_Data/lat_longs.tsv
    output: auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json
    conda-env: /fh/fast/bloom_j/computational_notebooks/ccarr/2024/Herpesvirus-Glycoprotein-Analysis/HSV1/.snakemake/conda/768efdd1ddbfaa7755324fb50ebd3862_
    shell:
        augur export v2 --tree Results/HSV1_gD/Trees/tree.nwk --title Natural diversity of Herpes simplex virus (HSV-1) glycoprotein D --metadata Results/HSV1_gD/metadata.tsv --node-data Results/HSV1_gD/Trees/tree_branch_lengths.json Results/HSV1_gD/Trees/tree_traits.json Results/HSV1_gD/Trees/tree_muts.json Results/HSV1_gD/Trees/tree_aa_muts.json --include-root-sequence-inline --colors Results/HSV1_gD/Trees/colors.tsv --lat-longs Configure/Input_Data/lat_longs.tsv --auspice-config Configure/Input_Data/auspice_config.json --output auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Trying to restart job 32.
Select jobs to execute...
Execute 1 jobs...

[Thu Sep 12 11:36:58 2024]
localrule export_tree:
    input: Results/HSV1_gD/Trees/tree.nwk, Results/HSV1_gD/metadata.tsv, Results/HSV1_gD/Trees/tree_branch_lengths.json, Results/HSV1_gD/Trees/tree_traits.json, Results/HSV1_gD/Trees/tree_muts.json, Results/HSV1_gD/Trees/tree_aa_muts.json, Configure/Input_Data/auspice_config.json, Results/HSV1_gD/Trees/colors.tsv, Configure/Input_Data/lat_longs.tsv
    output: auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json
    jobid: 32
    reason: Missing output files: auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json
    wildcards: gene=HSV1_gD
    resources: tmpdir=/loc/scratch/61982582

Activating conda environment: .snakemake/conda/768efdd1ddbfaa7755324fb50ebd3862_
/bin/bash: -c: line 0: syntax error near unexpected token `('
/bin/bash: -c: line 0: `source /home/ccarr/miniconda3/bin/activate '/fh/fast/bloom_j/computational_notebooks/ccarr/2024/Herpesvirus-Glycoprotein-Analysis/HSV1/.snakemake/conda/768efdd1ddbfaa7755324fb50ebd3862_'; set -euo pipefail;  augur export v2 --tree Results/HSV1_gD/Trees/tree.nwk --title Natural diversity of Herpes simplex virus (HSV-1) glycoprotein D --metadata Results/HSV1_gD/metadata.tsv --node-data Results/HSV1_gD/Trees/tree_branch_lengths.json Results/HSV1_gD/Trees/tree_traits.json Results/HSV1_gD/Trees/tree_muts.json Results/HSV1_gD/Trees/tree_aa_muts.json --include-root-sequence-inline --colors Results/HSV1_gD/Trees/colors.tsv --lat-longs Configure/Input_Data/lat_longs.tsv --auspice-config Configure/Input_Data/auspice_config.json --output auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json'
[Thu Sep 12 11:36:58 2024]
Error in rule export_tree:
    jobid: 32
    input: Results/HSV1_gD/Trees/tree.nwk, Results/HSV1_gD/metadata.tsv, Results/HSV1_gD/Trees/tree_branch_lengths.json, Results/HSV1_gD/Trees/tree_traits.json, Results/HSV1_gD/Trees/tree_muts.json, Results/HSV1_gD/Trees/tree_aa_muts.json, Configure/Input_Data/auspice_config.json, Results/HSV1_gD/Trees/colors.tsv, Configure/Input_Data/lat_longs.tsv
    output: auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json
    conda-env: /fh/fast/bloom_j/computational_notebooks/ccarr/2024/Herpesvirus-Glycoprotein-Analysis/HSV1/.snakemake/conda/768efdd1ddbfaa7755324fb50ebd3862_
    shell:
        augur export v2 --tree Results/HSV1_gD/Trees/tree.nwk --title Natural diversity of Herpes simplex virus (HSV-1) glycoprotein D --metadata Results/HSV1_gD/metadata.tsv --node-data Results/HSV1_gD/Trees/tree_branch_lengths.json Results/HSV1_gD/Trees/tree_traits.json Results/HSV1_gD/Trees/tree_muts.json Results/HSV1_gD/Trees/tree_aa_muts.json --include-root-sequence-inline --colors Results/HSV1_gD/Trees/colors.tsv --lat-longs Configure/Input_Data/lat_longs.tsv --auspice-config Configure/Input_Data/auspice_config.json --output auspice/Herpesvirus-Glycoprotein-Analysis_HSV1_gD.json
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2024-09-12T113648.438445.snakemake.log
WorkflowError:
At least one job did not complete successfully.
